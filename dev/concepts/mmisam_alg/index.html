<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multimodal iSAM Algorithm · Caesar.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Caesar.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Getting Started</span><ul><li><a class="toctext" href="../../installation_environment/">Installation</a></li><li><a class="toctext" href="../../faq/">FAQ</a></li></ul></li><li><span class="toctext">Initial Concepts</span><ul><li><a class="toctext" href="../concepts/">Caesar Concepts</a></li><li><a class="toctext" href="../building_graphs/">Building Factor Graphs</a></li><li><a class="toctext" href="../available_varfacs/">Available Variables/Factors</a></li><li><a class="toctext" href="../interacting_fgs/">Interacting w/ Factor Graphs</a></li><li class="current"><a class="toctext" href>Multimodal iSAM Algorithm</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Joint-Probability-1">Joint Probability</a></li><li><a class="toctext" href="#General-Factor-Graph-–-i.e.-non-Gaussian-and-multi-modal-1">General Factor Graph – i.e. non-Gaussian and multi-modal</a></li><li><a class="toctext" href="#Inference-on-Bayes/Junction/Elimination-Tree-1">Inference on Bayes/Junction/Elimination Tree</a></li><li><a class="toctext" href="#Focussing-Computation-on-Tree-1">Focussing Computation on Tree</a></li><li class="toplevel"><a class="toctext" href="#Chapman-Kolmogorov-(Belief-Propagation-/-Sum-product)-1">Chapman-Kolmogorov (Belief Propagation / Sum-product)</a></li><li><a class="toctext" href="#Clique-State-Machine-1">Clique State Machine</a></li><li><a class="toctext" href="#Sequential-Nested-Gibbs-Method-1">Sequential Nested Gibbs Method</a></li><li><a class="toctext" href="#Mixture-Parametric-Method-1">Mixture Parametric Method</a></li><li><a class="toctext" href="#Full-Deterministic-Chapman-Kolmogorov-Super-Product-Method-1">Full Deterministic Chapman-Kolmogorov Super Product Method</a></li></ul></li><li><a class="toctext" href="../multilang/">Multi-Language Support</a></li><li><a class="toctext" href="../arena_visualizations/">Arena Visualization</a></li><li><a class="toctext" href="../database_interactions/">Cloud Server/Database</a></li><li><a class="toctext" href="../multisession/">Multi/Cross Session Solving</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../examples/examples/">Caesar Examples</a></li><li><a class="toctext" href="../../examples/basic_continuousscalar/">ContinuousScalar as 1D Example</a></li><li><a class="toctext" href="../../examples/basic_slamedonut/">Under-defined Trilateration SLAM 2D</a></li><li><a class="toctext" href="../../examples/basic_hexagonal2d/">Hexagonal 2D SLAM</a></li><li><a class="toctext" href="../../examples/interm_fixedlag_hexagonal/">Fixed-Lag Solving 2D</a></li></ul></li><li><span class="toctext">Principles</span><ul><li><a class="toctext" href="../../principles/multiplyingDensities/">Multiplying Functions (.py)</a></li><li><a class="toctext" href="../../principles/approxConvDensities/">Generic Convolutions</a></li></ul></li><li><span class="toctext">How to Expand?</span><ul><li><a class="toctext" href="../adding_variables_factors/">Custom Variables and Factors</a></li><li><a class="toctext" href="../../examples/basic_definingfactors/">Creating Variables and Factors</a></li><li><a class="toctext" href="../../examples/interm_dynpose/">Creating DynPose Factor</a></li></ul></li><li><span class="toctext">Developer Zone</span><ul><li><a class="toctext" href="../../dev/wiki/">Wiki Pointer</a></li></ul></li><li><span class="toctext">Literature</span><ul><li><a class="toctext" href="../../refs/literature/">References</a></li></ul></li><li><span class="toctext">Function Reference</span><ul><li><a class="toctext" href="../../func_ref/">Caesar&#39;s Reference</a></li><li><a class="toctext" href="../../vis_func_ref/">Visualization Reference</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Initial Concepts</li><li><a href>Multimodal iSAM Algorithm</a></li></ul><a class="edit-page" href="https://github.com/JuliaRobotics/Caesar.jl/blob/master/docs/src/concepts/mmisam_alg.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Multimodal iSAM Algorithm</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Multimodal-incremental-Smoothing-and-Mapping-Algorithm-1" href="#Multimodal-incremental-Smoothing-and-Mapping-Algorithm-1">Multimodal incremental Smoothing and Mapping Algorithm</a></h1><blockquote><p><strong>Work In Progress</strong></p></blockquote><p>Placeholder for details on how the approximate sum-product inference algorithm (<a href="https://github.com/JuliaRobotics/IncrementalInference.jl">mmiSAM</a>) works.  Until then, see <a href="http://www.juliarobotics.org/Caesar.jl/latest/refs/literature/">related literature</a> for more details.</p><p>Algorithm combats the so called curse-of-dimensionality on the basis of eight principles outlined in the thesis work <a href="http://www.juliarobotics.org/Caesar.jl/latest/refs/literature/#Direct-References-1">&quot;Multimodal and Inertial Sensor Solutions to Navigation-type Factor Graphs&quot;</a>.</p><h1><a class="nav-anchor" id="Joint-Probability-1" href="#Joint-Probability-1">Joint Probability</a></h1><h2><a class="nav-anchor" id="General-Factor-Graph-–-i.e.-non-Gaussian-and-multi-modal-1" href="#General-Factor-Graph-–-i.e.-non-Gaussian-and-multi-modal-1">General Factor Graph – i.e. non-Gaussian and multi-modal</a></h2><p><img src="https://user-images.githubusercontent.com/6412556/52549388-db5f8b80-2da0-11e9-959c-4a8fe0890a87.gif" alt="mmfgbt"/></p><h2><a class="nav-anchor" id="Inference-on-Bayes/Junction/Elimination-Tree-1" href="#Inference-on-Bayes/Junction/Elimination-Tree-1">Inference on Bayes/Junction/Elimination Tree</a></h2><p>See <a href="https://vimeo.com/332507701">tree solve video here</a>.</p><a href="http://vimeo.com/332507701" target="_blank"><img src="https://user-images.githubusercontent.com/6412556/52549397-e4505d00-2da0-11e9-958b-e9034c30477c.png" alt="Bayes/Junction tree example" width="640" border="0" /></a><h2><a class="nav-anchor" id="Focussing-Computation-on-Tree-1" href="#Focussing-Computation-on-Tree-1">Focussing Computation on Tree</a></h2><h3><a class="nav-anchor" id="Incremental-Updates-1" href="#Incremental-Updates-1">Incremental Updates</a></h3><p>Recycling computations</p><h3><a class="nav-anchor" id="Fixed-Lag-operation-1" href="#Fixed-Lag-operation-1">Fixed-Lag operation</a></h3><p>Also mixed priority solving</p><h3><a class="nav-anchor" id="Federated-Tree-Solution-(Multi-session/agent)-1" href="#Federated-Tree-Solution-(Multi-session/agent)-1">Federated Tree Solution (Multi session/agent)</a></h3><p>Tentatively see <a href="http://www.juliarobotics.org/Caesar.jl/latest/concepts/multisession/">the multisession page</a>.</p><h1><a class="nav-anchor" id="Chapman-Kolmogorov-(Belief-Propagation-/-Sum-product)-1" href="#Chapman-Kolmogorov-(Belief-Propagation-/-Sum-product)-1">Chapman-Kolmogorov (Belief Propagation / Sum-product)</a></h1><p>The main computational effort is to focus compute cycles on dominant modes exhibited by the data, by dropping low likelihood modes (although not indefinitely) and not sacrificing accuracy individual major features. </p><h2><a class="nav-anchor" id="Clique-State-Machine-1" href="#Clique-State-Machine-1">Clique State Machine</a></h2><p>The CSM is used to govern the inference process within a clique.  A <a href="http://www.github.com/JuliaRobotics/FunctionStateMachine.jl">FunctionalStateMachine.jl</a> implementation is used to allow for initialization / incremental-recycling / fixed-lag solving, and will soon support federated branch solving as well as unidirectional message passing for fixed-lead operations.  See <a href="https://vimeo.com/345576689">the following video</a> for an auto-generated–-using <code>csmAnimate</code>–-concurrent clique solving example.</p><h2><a class="nav-anchor" id="Sequential-Nested-Gibbs-Method-1" href="#Sequential-Nested-Gibbs-Method-1">Sequential Nested Gibbs Method</a></h2><p>Current default inference method.</p><h3><a class="nav-anchor" id="Convolution-Approximation-(Quasi-Deterministic)-1" href="#Convolution-Approximation-(Quasi-Deterministic)-1">Convolution Approximation (Quasi-Deterministic)</a></h3><p>Convolution operations are used to implement the numerical computation of the probabilistic chain rule:</p><div>\[P(A, B) = P(A | B)P(B)\]</div><p>Proposal distributions are computed by means of (analytical or numerical – i.e. &quot;algebraic&quot;) factor which defines a residual function:</p><div>\[\delta : S \times \Eta \rightarrow \mathcal{R}\]</div><p>where <span>$S \times \Eta$</span> is the domain such that <span>$\theta_i \in S, \, \eta \sim P(\Eta)$</span>, and <span>$P(\cdot)$</span> is a probability.</p><p>A trust-region, nonlinear gradient decent method is used to enforce the residual function <span>$\delta (\theta_S)$</span> in a leave-one-out-Gibbs strategy for all the factors and variables in each clique.  Each time a factor residual is enforced for another particle along with a sample from the stochastic noise term.  Solutions are found either through root finding on &quot;full dimension&quot; equations (<a href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/62afec6300c899d567be29b06f8d9b0919b31878/src/SolverUtilities.jl#L128">source code here</a>):</p><div>\[\text{solve}_{\theta_i} ~ s.t. \, 0 = \delta(\theta_{S}; \eta)\]</div><p>Or minimization of &quot;low dimension&quot; equations (<a href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/62afec6300c899d567be29b06f8d9b0919b31878/src/SolverUtilities.jl#L72">source code here</a>) that might not have any roots in <span>$\theta_i$</span>:</p><div>\[\text{argmin}_{\theta_i} ~ [\delta(\theta_{S}; \eta)]^2\]</div><blockquote><p>Gradient decent methods are obtained from the Julia Package community, namely <a href="https://github.com/JuliaNLSolvers/NLsolve.jl">NLsolve.jl</a> and <a href="https://github.com/JuliaNLSolvers/Optim.jl">Optim.jl</a>.</p></blockquote><p>The factor noise term can be any samplable belief (a.k.a. <a href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/2b9f1c3d03e796bc24fbcc622329769dadd94288/src/DefaultNodeTypes.jl#L3"><code>IIF.SamplableBelief</code></a>), either through algebraic modeling, or (<strong>critically</strong>) directly from the sensor measurement that is driven by the underlying physics process.  Parametric factors (<a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a>) or direct physical measurement noise can be used via <code>AliasingScalarSampler</code> or <code>KernelDensityEstimate</code>.</p><p>This figure shows an example of the quasi-deterministic convolution of green and red functions to produce the black trace as proposal distribution </p><a href="https://darchive.mblwhoilibrary.org/bitstream/handle/1912/9305/Fourie_thesis.pdf?sequence=1" target="_blank"><img src="https://user-images.githubusercontent.com/6412556/61175404-3b4f9d80-a59e-11e9-85db-ca6bbdb73ffd.png" alt="Bayes/Junction tree example" width="640" border="0" /></a><blockquote><p>Also see [1.2], Chap. 5, Approximate Convolutions.</p></blockquote><h3><a class="nav-anchor" id="Stochastic-Product-Approx-of-Infinite-Functionals-1" href="#Stochastic-Product-Approx-of-Infinite-Functionals-1">Stochastic Product Approx of Infinite Functionals</a></h3><p>See mixed-manifold products presented in <a href="http://www.juliarobotics.org/Caesar.jl/latest/refs/literature/#Direct-References-1">the literature section</a>.</p><blockquote><p>writing in progress</p></blockquote><h2><a class="nav-anchor" id="Mixture-Parametric-Method-1" href="#Mixture-Parametric-Method-1">Mixture Parametric Method</a></h2><p>Work In Progress – deferred for progress on full functional methods, but likely to have Gaussian legacy algorithm with mixture model expansion added in the near future.</p><h2><a class="nav-anchor" id="Full-Deterministic-Chapman-Kolmogorov-Super-Product-Method-1" href="#Full-Deterministic-Chapman-Kolmogorov-Super-Product-Method-1">Full Deterministic Chapman-Kolmogorov Super Product Method</a></h2><blockquote><p>Work in progress, likely to include Kernel Embedding and Homotopy Continuation methods for combining convolution and product operations as a concurrent calculation.</p></blockquote><footer><hr/><a class="previous" href="../interacting_fgs/"><span class="direction">Previous</span><span class="title">Interacting w/ Factor Graphs</span></a><a class="next" href="../multilang/"><span class="direction">Next</span><span class="title">Multi-Language Support</span></a></footer></article></body></html>
