<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interact w Graphs · Caesar.jl</title><meta name="title" content="Interact w Graphs · Caesar.jl"/><meta property="og:title" content="Interact w Graphs · Caesar.jl"/><meta property="twitter:title" content="Interact w Graphs · Caesar.jl"/><meta name="description" content="Documentation for Caesar.jl."/><meta property="og:description" content="Documentation for Caesar.jl."/><meta property="twitter:description" content="Documentation for Caesar.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Caesar.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome</a></li><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../introduction/">Introduction</a></li><li><a class="tocitem" href="../why_nongaussian/">Gaussian vs. Non-Gaussian</a></li><li><a class="tocitem" href="../../installation_environment/">Installation</a></li><li><a class="tocitem" href="../using_julia/">Using Julia</a></li><li><a class="tocitem" href="../../faq/">FAQ</a></li></ul></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../concepts/">Initial Concepts</a></li><li><a class="tocitem" href="../building_graphs/">Building Graphs</a></li><li><a class="tocitem" href="../solving_graphs/">Solving Graphs</a></li><li class="is-active"><a class="tocitem" href>Interact w Graphs</a><ul class="internal"><li><a class="tocitem" href="#Saving-and-Loading"><span>Saving and Loading</span></a></li><li><a class="tocitem" href="#querying_graph"><span>Querying the Graph</span></a></li><li class="toplevel"><a class="tocitem" href="#Extracting-Belief-Results-(and-PPE)"><span>Extracting Belief Results (and PPE)</span></a></li><li><a class="tocitem" href="#Parametric-Point-Estimates-(PPE)"><span>Parametric Point Estimates (PPE)</span></a></li><li><a class="tocitem" href="#Getting-Many-Marginal-Samples"><span>Getting Many Marginal Samples</span></a></li><li><a class="tocitem" href="#build_manikde"><span>Building On-Manifold KDEs</span></a></li><li><a class="tocitem" href="#Logging-Output-(Unique-Folder)"><span>Logging Output (Unique Folder)</span></a></li><li><a class="tocitem" href="#Other-Useful-Functions"><span>Other Useful Functions</span></a></li></ul></li><li><a class="tocitem" href="../dataassociation/">Multi-Modal/Hypothesis</a></li><li><a class="tocitem" href="../parallel_processing/">Parallel Processing</a></li><li><a class="tocitem" href="../../examples/parametric_solve/">[DEV] Parametric Solve</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/examples/">Caesar Examples</a></li><li><a class="tocitem" href="../../examples/basic_continuousscalar/">Canonical 1D Example</a></li><li><a class="tocitem" href="../../examples/basic_slamedonut/">Underconstrained Range-only</a></li><li><a class="tocitem" href="../../examples/basic_hexagonal2d/">Hexagonal 2D SLAM</a></li><li><a class="tocitem" href="../../examples/interm_fixedlag_hexagonal/">Fixed-Lag Solving 2D</a></li><li><a class="tocitem" href="../../examples/deadreckontether/">Dead Reckon Tether</a></li></ul></li><li><span class="tocitem">Graph Library</span><ul><li><a class="tocitem" href="../../examples/canonical_graphs/">Canonical Generators</a></li><li><a class="tocitem" href="../available_varfacs/">Variables/Factors</a></li><li><a class="tocitem" href="../entry_data/">Entry=&gt;Data Blob</a></li><li><a class="tocitem" href="../../examples/using_images/">Images and AprilTags</a></li><li><a class="tocitem" href="../../examples/using_pcl/">Pointclouds and PCL</a></li><li><a class="tocitem" href="../using_manifolds/">Using Manifolds.jl</a></li><li><a class="tocitem" href="../flux_factors/">Flux (NN) Factors</a></li></ul></li><li><span class="tocitem">Visualization</span><ul><li><a class="tocitem" href="../../install_viz/">Installing Viz</a></li><li><a class="tocitem" href="../2d_plotting/">Plotting (2D)</a></li><li><a class="tocitem" href="../arena_visualizations/">Visualization (3D)</a></li></ul></li><li><span class="tocitem">Middlewares</span><ul><li><a class="tocitem" href="../../examples/using_ros/">ROS Middleware</a></li><li><a class="tocitem" href="../compile_binary/">Compile Binaries</a></li><li><a class="tocitem" href="../zero_install/">Zero Install Solution</a></li><li><a class="tocitem" href="../multisession/">Multi-session/agent Solving</a></li><li><a class="tocitem" href="../multilang/">Multi-Language Support</a></li></ul></li><li><span class="tocitem">How to Expand?</span><ul><li><a class="tocitem" href="../../caesar_framework/">Pkg Framework</a></li><li><a class="tocitem" href="../../examples/custom_variables/">Custom Variables</a></li><li><a class="tocitem" href="../../examples/basic_definingfactors/">Custom Prior Factor</a></li><li><a class="tocitem" href="../../examples/custom_relative_factors/">Custom Relative Factor</a></li><li><a class="tocitem" href="../stash_and_cache/">Caching and Stashing</a></li><li><a class="tocitem" href="../../examples/custom_factor_features/">Important Factor Features</a></li><li><a class="tocitem" href="../../examples/adding_variables_factors/">Variable/Factor Considerations</a></li><li><a class="tocitem" href="../../func_ref/">More Functions</a></li></ul></li><li><span class="tocitem">Principles</span><ul><li><a class="tocitem" href="../../principles/filterCorrespondence/">Filters vs. Graphs</a></li><li><a class="tocitem" href="../../principles/approxConvDensities/">Generic Convolutions</a></li><li><a class="tocitem" href="../../principles/multiplyingDensities/">Multiplying Functions (.py)</a></li><li><a class="tocitem" href="../../principles/bayestreePrinciples/">Bayes (Junction) tree</a></li><li><a class="tocitem" href="../../principles/initializingOnBayesTree/">Advanced Bayes Tree Topics</a></li><li><a class="tocitem" href="../mmisam_alg/">Non-Gaussian Algorithm</a></li></ul></li><li><span class="tocitem">Developer Zone</span><ul><li><a class="tocitem" href="../../dev/wiki/">Wiki Pointers</a></li><li><a class="tocitem" href="../../examples/legacy_deffactors/">Legacy Factors</a></li><li><a class="tocitem" href="../../principles/interm_dynpose/">Creating DynPose Factor</a></li><li><a class="tocitem" href="../../dev/known_issues/">Known Issue List</a></li><li><a class="tocitem" href="../../dev/internal_fncs/">Internal Functions</a></li></ul></li><li><span class="tocitem">Literature</span><ul><li><a class="tocitem" href="../../refs/literature/">References</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Getting Started</a></li><li class="is-active"><a href>Interact w Graphs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interact w Graphs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaRobotics/Caesar.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaRobotics/Caesar.jl/blob/master/docs/src/concepts/interacting_fgs.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Factor-Graph-as-a-Whole"><a class="docs-heading-anchor" href="#Factor-Graph-as-a-Whole">Factor Graph as a Whole</a><a id="Factor-Graph-as-a-Whole-1"></a><a class="docs-heading-anchor-permalink" href="#Factor-Graph-as-a-Whole" title="Permalink"></a></h1><h2 id="Saving-and-Loading"><a class="docs-heading-anchor" href="#Saving-and-Loading">Saving and Loading</a><a id="Saving-and-Loading-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-and-Loading" title="Permalink"></a></h2><p>Assuming some factor graph object has been constructed by hand or automation, it is often very useful to be able to store that factor graph to file for later loading, solving, analysis etc.  Caesar.jl provides such functionality through easy saving and loading.  To save a factor graph, simply do:</p><pre><code class="language-julia hljs">saveDFG(&quot;/somewhere/myfg&quot;, fg)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.saveDFG" href="#DistributedFactorGraphs.saveDFG"><code>DistributedFactorGraphs.saveDFG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">saveDFG(folder, dfg; saveMetadata)
</code></pre><p>Save a DFG to a folder. Will create/overwrite folder if it exists.</p><p>DevNotes:</p><ul><li>TODO remove <code>compress</code> kwarg.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using DistributedFactorGraphs, IncrementalInference
# Create a DFG - can make one directly, e.g. GraphsDFG{NoSolverParams}() or use IIF:
dfg = initfg()
# ... Add stuff to graph using either IIF or DFG:
v1 = addVariable!(dfg, :a, ContinuousScalar, tags = [:POSE], solvable=0)
# Now save it:
saveDFG(dfg, &quot;/tmp/saveDFG.tar.gz&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/FileDFG/services/FileDFG.jl#L2-L19">source</a></section></article><p>Similarly in the same or a new Julia context, you can load a factor graph object</p><pre><code class="language-julia hljs"># using Caesar
fg_ = loadDFG(&quot;/somwhere/myfg&quot;)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.loadDFG" href="#DistributedFactorGraphs.loadDFG"><code>DistributedFactorGraphs.loadDFG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">loadDFG(file)
</code></pre><p>Convenience graph loader into a default <code>LocalDFG</code>.</p><p>See also: <a href="#DistributedFactorGraphs.loadDFG!"><code>loadDFG!</code></a>, <a href="#DistributedFactorGraphs.saveDFG"><code>saveDFG</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/FileDFG/services/FileDFG.jl#L223-L229">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.loadDFG!" href="#DistributedFactorGraphs.loadDFG!"><code>DistributedFactorGraphs.loadDFG!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">loadDFG!(
    dfgLoadInto,
    dst;
    overwriteDFGMetadata,
    useDeprExtract
)
</code></pre><p>Load a DFG from a saved folder.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using DistributedFactorGraphs, IncrementalInference
# Create a DFG - can make one directly, e.g. GraphsDFG{NoSolverParams}() or use IIF:
dfg = initfg()
# Load the graph
loadDFG!(dfg, &quot;/tmp/savedgraph.tar.gz&quot;)
# Use the DFG as you do normally.
ls(dfg)</code></pre><p>See also: <a href="#DistributedFactorGraphs.loadDFG"><code>loadDFG</code></a>, <a href="#DistributedFactorGraphs.saveDFG"><code>saveDFG</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/FileDFG/services/FileDFG.jl#L80-L96">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Julia natively provides a direct in memory <code>deepcopy</code> function for making duplicate objects if you wish to keep a backup of the factor graph, e.g.</p><pre><code class="language-julia hljs">fg2 = deepcopy(fg)</code></pre></div></div><h3 id="Adding-an-EntryData-Blob-store"><a class="docs-heading-anchor" href="#Adding-an-EntryData-Blob-store">Adding an <code>Entry=&gt;Data</code> Blob store</a><a id="Adding-an-EntryData-Blob-store-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-an-EntryData-Blob-store" title="Permalink"></a></h3><p>A later part of the documentation will show <a href="https://juliarobotics.org/Caesar.jl/latest/concepts/entry_data/">how to include a <code>Entry=&gt;Data</code> blob store</a>.</p><h2 id="querying_graph"><a class="docs-heading-anchor" href="#querying_graph">Querying the Graph</a><a id="querying_graph-1"></a><a class="docs-heading-anchor-permalink" href="#querying_graph" title="Permalink"></a></h2><h3 id="List-Variables:"><a class="docs-heading-anchor" href="#List-Variables:">List Variables:</a><a id="List-Variables:-1"></a><a class="docs-heading-anchor-permalink" href="#List-Variables:" title="Permalink"></a></h3><p>A quick summary of the variables in the factor graph can be retrieved with:</p><pre><code class="language-julia hljs"># List variables
ls(fg)
# List factors attached to x0
ls(fg, :x0)
# TODO: Provide an overview of getVal, getVert, getBW, getBelief, etc.</code></pre><p>It is possible to filter the listing with <code>Regex</code> string:</p><pre><code class="language-julia hljs">ls(fg, r&quot;x\d&quot;)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.ls" href="#DistributedFactorGraphs.ls"><code>DistributedFactorGraphs.ls</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ls(dfg; ...)
ls(dfg, regexFilter; tags, solvable)
</code></pre><p>List the DFGVariables in the DFG. Optionally specify a label regular expression to retrieves a subset of the variables. Tags is a list of any tags that a node must have (at least one match).</p><p>Notes:</p><ul><li>Returns <code>Vector{Symbol}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/AbstractDFG.jl#L686-L694">source</a></section><section><div><pre><code class="language-julia hljs">ls(dfg; ...)
ls(dfg, node; solvable)
</code></pre><p>Retrieve a list of labels of the immediate neighbors around a given variable or factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/AbstractDFG.jl#L722-L725">source</a></section></article><pre><code class="language-julia hljs">unsorted = intersect(ls(fg, r&quot;x&quot;), ls(fg, Pose2))  # by regex

# sorting in most natural way (as defined by DFG)
sorted = sortDFG(unsorted)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.sortDFG" href="#DistributedFactorGraphs.sortDFG"><code>DistributedFactorGraphs.sortDFG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sortDFG(vars; by, kwargs...)
</code></pre><p>Convenience wrapper for <code>Base.sort</code>. Sort variable (factor) lists in a meaningful way (by <code>timestamp</code>, <code>label</code>, etc), for example <code>[:april;:x1_3;:x1_6;]</code> Defaults to sorting by timestamp for variables and factors and using <code>natural_lt</code> for Symbols. See Base.sort for more detail.</p><p>Notes</p><ul><li>Not fool proof, but does better than native sort.</li></ul><p>Example</p><p><code>sortDFG(ls(dfg))</code> <code>sortDFG(ls(dfg), by=getLabel, lt=natural_lt)</code></p><p>Related</p><p>ls, lsf</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/Common.jl#L47-L66">source</a></section></article><h3 id="List-Factors:"><a class="docs-heading-anchor" href="#List-Factors:">List Factors:</a><a id="List-Factors:-1"></a><a class="docs-heading-anchor-permalink" href="#List-Factors:" title="Permalink"></a></h3><pre><code class="language-julia hljs">unsorted = lsf(fg)
unsorted = ls(fg, Pose2Point2BearingRange)</code></pre><p>or using the <code>tags</code> (works for variables too):</p><pre><code class="language-julia hljs">lsf(fg, tags=[:APRILTAGS;])</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.lsf" href="#DistributedFactorGraphs.lsf"><code>DistributedFactorGraphs.lsf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lsf(dfg; ...)
lsf(dfg, regexFilter; tags, solvable)
</code></pre><p>List the DFGFactors in the DFG. Optionally specify a label regular expression to retrieves a subset of the factors.</p><p>Notes</p><ul><li>Return <code>Vector{Symbol}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/AbstractDFG.jl#L705-L712">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.lsfPriors" href="#DistributedFactorGraphs.lsfPriors"><code>DistributedFactorGraphs.lsfPriors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lsfPriors(dfg)
</code></pre><p>Return vector of prior factor symbol labels in factor graph <code>dfg</code>.</p><p>Notes:</p><ul><li>Returns <code>Vector{Symbol}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/AbstractDFG.jl#L773-L780">source</a></section></article><p>There are a variety of functions to query the factor graph, please refer to <a href="../../func_ref/">Function Reference</a> for details and note that many functions still need to be added to this documentation.</p><h3 id="Extracting-a-Subgraph"><a class="docs-heading-anchor" href="#Extracting-a-Subgraph">Extracting a Subgraph</a><a id="Extracting-a-Subgraph-1"></a><a class="docs-heading-anchor-permalink" href="#Extracting-a-Subgraph" title="Permalink"></a></h3><p>Sometimes it is useful to make a deepcopy of a segment of the factor graph for some purpose:</p><pre><code class="language-julia hljs">sfg = buildSubgraph(fg, [:x1;:x2;:l7], 1)</code></pre><h1 id="Extracting-Belief-Results-(and-PPE)"><a class="docs-heading-anchor" href="#Extracting-Belief-Results-(and-PPE)">Extracting Belief Results (and PPE)</a><a id="Extracting-Belief-Results-(and-PPE)-1"></a><a class="docs-heading-anchor-permalink" href="#Extracting-Belief-Results-(and-PPE)" title="Permalink"></a></h1><p>Once you have solved the graph, you can review the full marginal with:</p><pre><code class="language-julia hljs">X0 = getBelief(fg, :x0)
# Evaluate the marginal density function just for fun at [0.0, 0, 0].
X0(zeros(3,1))</code></pre><p>This object is currently a Kernel Density which contains kernels at specific points on the associated manifold.  These kernel locations can be retrieved with:</p><pre><code class="language-julia hljs">X0pts = getPoints(X0)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IncrementalInference.getBelief" href="#IncrementalInference.getBelief"><code>IncrementalInference.getBelief</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getBelief(vnd)
</code></pre><p>Get a ManifoldKernelDensity estimate from variable node data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/v0.35.3/src/services/FactorGraph.jl#L330-L334">source</a></section></article><h2 id="Parametric-Point-Estimates-(PPE)"><a class="docs-heading-anchor" href="#Parametric-Point-Estimates-(PPE)">Parametric Point Estimates (PPE)</a><a id="Parametric-Point-Estimates-(PPE)-1"></a><a class="docs-heading-anchor-permalink" href="#Parametric-Point-Estimates-(PPE)" title="Permalink"></a></h2><p>Since Caesar.jl is build around the each variable state being estimated as a total marginal posterior belief, it is often useful to get the equivalent parametric point estimate from the belief.  Many of these computations are already done by the inference library and avalable via the various <a href="#DistributedFactorGraphs.getPPE"><code>getPPE</code></a> methods, e.g.:</p><pre><code class="language-julia hljs">getPPE(fg, :l3)
getPPESuggested(fg, :l5)</code></pre><p>There are values for mean, max, or hybrid combinations.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.getPPE" href="#DistributedFactorGraphs.getPPE"><code>DistributedFactorGraphs.getPPE</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getPPE(vari)
getPPE(vari, solveKey)
</code></pre><p>Get the parametric point estimate (PPE) for a variable in the factor graph.</p><p>Notes</p><ul><li>Defaults on keywords <code>solveKey</code> and <code>method</code></li></ul><p>Related</p><p>getMeanPPE, getMaxPPE, getKDEMean, getKDEFit, getPPEs, getVariablePPEs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/DFGVariable.jl#L445-L456">source</a></section><section><div><pre><code class="language-julia hljs">getPPE(v)
getPPE(v, ppekey)
</code></pre><p>Get the parametric point estimate (PPE) for a variable in the factor graph for a given solve key.</p><p>Notes</p><ul><li>Defaults on keywords <code>solveKey</code> and <code>method</code></li></ul><p>Related <a href="@ref"><code>getPPEMean</code></a>, <a href="@ref"><code>getPPEMax</code></a>, <a href="@ref"><code>updatePPE!</code></a>, <code>mean(BeliefType)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/DFGVariable.jl#L957-L966">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IncrementalInference.calcPPE" href="#IncrementalInference.calcPPE"><code>IncrementalInference.calcPPE</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">calcPPE(var; ...)
calcPPE(var, varType; ppeType, solveKey, ppeKey)
</code></pre><p>Get the ParametricPointEstimates–-based on full marginal belief estimates–-of a variable in the distributed factor graph. Calculate new Parametric Point Estimates for a given variable.</p><p>DevNotes</p><ul><li>TODO update for manifold subgroups.</li><li>TODO standardize after AMP3D</li></ul><p>Related</p><p><a href="#DistributedFactorGraphs.getPPE"><code>getPPE</code></a>, <a href="@ref"><code>setPPE!</code></a>, <a href="@ref"><code>getVariablePPE</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/v0.35.3/src/services/FGOSUtils.jl#L222-L236">source</a></section></article><h2 id="Getting-Many-Marginal-Samples"><a class="docs-heading-anchor" href="#Getting-Many-Marginal-Samples">Getting Many Marginal Samples</a><a id="Getting-Many-Marginal-Samples-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Many-Marginal-Samples" title="Permalink"></a></h2><p>It is also possible to sample the above belief objects for more samples:</p><pre><code class="language-julia hljs">pts = rand(X0, 200)</code></pre><h2 id="build_manikde"><a class="docs-heading-anchor" href="#build_manikde">Building On-Manifold KDEs</a><a id="build_manikde-1"></a><a class="docs-heading-anchor-permalink" href="#build_manikde" title="Permalink"></a></h2><p>These kernel density belief objects can be constructed from points as follows:</p><pre><code class="language-julia hljs">X0_ = manikde!(Pose2, pts)</code></pre><h2 id="Logging-Output-(Unique-Folder)"><a class="docs-heading-anchor" href="#Logging-Output-(Unique-Folder)">Logging Output (Unique Folder)</a><a id="Logging-Output-(Unique-Folder)-1"></a><a class="docs-heading-anchor-permalink" href="#Logging-Output-(Unique-Folder)" title="Permalink"></a></h2><p>Each new factor graph is designated a unique folder in <code>/tmp/caesar</code>.  This is usaully used for debugging or large scale test analysis.  Sometimes it may be useful for the user to also use this temporary location.  The location is stored in the <code>SolverParams</code>:</p><pre><code class="language-julia hljs">getSolverParams(fg).logpath</code></pre><p>The functions of interest are:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IncrementalInference.getLogPath" href="#IncrementalInference.getLogPath"><code>IncrementalInference.getLogPath</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getLogPath(opt)
</code></pre><p>Get the folder location where debug and solver information is recorded for a particular factor graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/v0.35.3/src/services/FGOSUtils.jl#L148-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IncrementalInference.joinLogPath" href="#IncrementalInference.joinLogPath"><code>IncrementalInference.joinLogPath</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">joinLogPath(opt, str)
</code></pre><p>Append <code>str</code> onto factor graph log path as convenience function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/v0.35.3/src/services/FGOSUtils.jl#L156-L160">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>A useful tip for doing large scale processing might be to reduce amount of write operations to a solid-state drive that will be written to default location <code>/tmp/caesar</code> by simplying adding a symbolic link to a USB drive or SDCard, perhaps similar to:</p><pre><code class="language-bash hljs">cd /tmp
mkdir -p /media/MYFLASHDRIVE/caesar
ln -s /media/MYFLASHDRIVE/caesar caesar</code></pre></div></div><h2 id="Other-Useful-Functions"><a class="docs-heading-anchor" href="#Other-Useful-Functions">Other Useful Functions</a><a id="Other-Useful-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Useful-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IncrementalInference.getFactorDim" href="#IncrementalInference.getFactorDim"><code>IncrementalInference.getFactorDim</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getFactorDim(w...) -&gt; Any
</code></pre><p>Return the number of dimensions this factor vertex <code>fc</code> influences.</p><p>DevNotes</p><ul><li>TODO document how this function handles partial dimensions<ul><li>Currently a factor manifold is just what the measurement provides (i.e. bearing only would be dimension 1)</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/v0.35.3/src/services/FGOSUtils.jl#L105-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DistributedFactorGraphs.getManifold" href="#DistributedFactorGraphs.getManifold"><code>DistributedFactorGraphs.getManifold</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getManifold(_)
</code></pre><p>Interface function to return the <code>&lt;:ManifoldsBase.AbstractManifold</code> object of <code>variableType&lt;:InferenceVariable</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/DistributedFactorGraphs.jl/blob/v0.23.7/src/services/DFGVariable.jl#L122-L125">source</a></section><section><div><pre><code class="language-julia hljs">getManifold(mkd)
getManifold(mkd, asPartial)
</code></pre><p>Return the manifold on which this ManifoldKernelDensity is defined.</p><p>DevNotes</p><ul><li>TODO currently ignores the .partial aspect (captured in parameter <code>L</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/IncrementalInference.jl/blob/v0.35.3/src/services/FGOSUtils.jl#L84-L91">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../solving_graphs/">« Solving Graphs</a><a class="docs-footer-nextpage" href="../dataassociation/">Multi-Modal/Hypothesis »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 29 January 2024 11:33">Monday 29 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
