<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pointclouds and PCL · Caesar.jl</title><meta name="title" content="Pointclouds and PCL · Caesar.jl"/><meta property="og:title" content="Pointclouds and PCL · Caesar.jl"/><meta property="twitter:title" content="Pointclouds and PCL · Caesar.jl"/><meta name="description" content="Documentation for Caesar.jl."/><meta property="og:description" content="Documentation for Caesar.jl."/><meta property="twitter:description" content="Documentation for Caesar.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Caesar.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome</a></li><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../introduction/">Introduction</a></li><li><a class="tocitem" href="../../concepts/why_nongaussian/">Gaussian vs. Non-Gaussian</a></li><li><a class="tocitem" href="../../installation_environment/">Installation</a></li><li><a class="tocitem" href="../../concepts/using_julia/">Using Julia</a></li><li><a class="tocitem" href="../../faq/">FAQ</a></li></ul></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../concepts/concepts/">Initial Concepts</a></li><li><a class="tocitem" href="../../concepts/building_graphs/">Building Graphs</a></li><li><a class="tocitem" href="../../concepts/solving_graphs/">Solving Graphs</a></li><li><a class="tocitem" href="../../concepts/interacting_fgs/">Interact w Graphs</a></li><li><a class="tocitem" href="../../concepts/dataassociation/">Multi-Modal/Hypothesis</a></li><li><a class="tocitem" href="../../concepts/parallel_processing/">Parallel Processing</a></li><li><a class="tocitem" href="../parametric_solve/">[DEV] Parametric Solve</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/">Caesar Examples</a></li><li><a class="tocitem" href="../basic_continuousscalar/">Canonical 1D Example</a></li><li><a class="tocitem" href="../basic_slamedonut/">Underconstrained Range-only</a></li><li><a class="tocitem" href="../basic_hexagonal2d/">Hexagonal 2D SLAM</a></li><li><a class="tocitem" href="../interm_fixedlag_hexagonal/">Fixed-Lag Solving 2D</a></li><li><a class="tocitem" href="../deadreckontether/">Dead Reckon Tether</a></li></ul></li><li><span class="tocitem">Graph Library</span><ul><li><a class="tocitem" href="../canonical_graphs/">Canonical Generators</a></li><li><a class="tocitem" href="../../concepts/available_varfacs/">Variables/Factors</a></li><li><a class="tocitem" href="../../concepts/entry_data/">Entry=&gt;Data Blob</a></li><li><a class="tocitem" href="../using_images/">Images and AprilTags</a></li><li class="is-active"><a class="tocitem" href>Pointclouds and PCL</a><ul class="internal"><li><a class="tocitem" href="#Introduction-Caesar._PCL"><span>Introduction <code>Caesar._PCL</code></span></a></li><li><a class="tocitem" href="#Conversion-with-ROS.PointCloud2"><span>Conversion with <code>ROS.PointCloud2</code></span></a></li><li><a class="tocitem" href="#Aligning-Point-Clouds"><span>Aligning Point Clouds</span></a></li><li><a class="tocitem" href="#Visualizing-Point-Clouds"><span>Visualizing Point Clouds</span></a></li></ul></li><li><a class="tocitem" href="../../concepts/using_manifolds/">Using Manifolds.jl</a></li><li><a class="tocitem" href="../../concepts/flux_factors/">Flux (NN) Factors</a></li></ul></li><li><span class="tocitem">Visualization</span><ul><li><a class="tocitem" href="../../install_viz/">Installing Viz</a></li><li><a class="tocitem" href="../../concepts/2d_plotting/">Plotting (2D)</a></li><li><a class="tocitem" href="../../concepts/arena_visualizations/">Visualization (3D)</a></li></ul></li><li><span class="tocitem">Middlewares</span><ul><li><a class="tocitem" href="../using_ros/">ROS Middleware</a></li><li><a class="tocitem" href="../../concepts/compile_binary/">Compile Binaries</a></li><li><a class="tocitem" href="../../concepts/zero_install/">Zero Install Solution</a></li><li><a class="tocitem" href="../../concepts/multisession/">Multi-session/agent Solving</a></li><li><a class="tocitem" href="../../concepts/multilang/">Multi-Language Support</a></li></ul></li><li><span class="tocitem">How to Expand?</span><ul><li><a class="tocitem" href="../../caesar_framework/">Pkg Framework</a></li><li><a class="tocitem" href="../custom_variables/">Custom Variables</a></li><li><a class="tocitem" href="../basic_definingfactors/">Custom Prior Factor</a></li><li><a class="tocitem" href="../custom_relative_factors/">Custom Relative Factor</a></li><li><a class="tocitem" href="../../concepts/stash_and_cache/">Caching and Stashing</a></li><li><a class="tocitem" href="../custom_factor_features/">Important Factor Features</a></li><li><a class="tocitem" href="../adding_variables_factors/">Variable/Factor Considerations</a></li><li><a class="tocitem" href="../../func_ref/">More Functions</a></li></ul></li><li><span class="tocitem">Principles</span><ul><li><a class="tocitem" href="../../principles/filterCorrespondence/">Filters vs. Graphs</a></li><li><a class="tocitem" href="../../principles/approxConvDensities/">Generic Convolutions</a></li><li><a class="tocitem" href="../../principles/multiplyingDensities/">Multiplying Functions (.py)</a></li><li><a class="tocitem" href="../../principles/bayestreePrinciples/">Bayes (Junction) tree</a></li><li><a class="tocitem" href="../../principles/initializingOnBayesTree/">Advanced Bayes Tree Topics</a></li><li><a class="tocitem" href="../../concepts/mmisam_alg/">Non-Gaussian Algorithm</a></li></ul></li><li><span class="tocitem">Developer Zone</span><ul><li><a class="tocitem" href="../../dev/wiki/">Wiki Pointers</a></li><li><a class="tocitem" href="../legacy_deffactors/">Legacy Factors</a></li><li><a class="tocitem" href="../../principles/interm_dynpose/">Creating DynPose Factor</a></li><li><a class="tocitem" href="../../dev/known_issues/">Known Issue List</a></li><li><a class="tocitem" href="../../dev/internal_fncs/">Internal Functions</a></li></ul></li><li><span class="tocitem">Literature</span><ul><li><a class="tocitem" href="../../refs/literature/">References</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Graph Library</a></li><li class="is-active"><a href>Pointclouds and PCL</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pointclouds and PCL</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaRobotics/Caesar.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaRobotics/Caesar.jl/blob/master/docs/src/examples/using_pcl.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="pointclouds_and_pcl"><a class="docs-heading-anchor" href="#pointclouds_and_pcl">Pointclouds and PCL Types</a><a id="pointclouds_and_pcl-1"></a><a class="docs-heading-anchor-permalink" href="#pointclouds_and_pcl" title="Permalink"></a></h1><h2 id="Introduction-Caesar._PCL"><a class="docs-heading-anchor" href="#Introduction-Caesar._PCL">Introduction <code>Caesar._PCL</code></a><a id="Introduction-Caesar._PCL-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction-Caesar._PCL" title="Permalink"></a></h2><p>A wide ranging and well used <a href="https://pointclouds.org/">point cloud library exists called PCL</a> which is implemented in C++.  To get access to many of those features and bridge the Caesar.jl suite of packages, the base <code>PCL.PointCloud</code> types have been implemented in Julia and reside under <code>Caesar._PCL</code>.  The main types of interest:</p><ul><li><code>Caesar._PCL.PointCloud</code></li><li><code>Caesar._PCL.PCLPointCloud2</code></li><li><code>Caesar._PCL.PointXYZ</code></li><li><code>Caesar._PCL.Header</code></li><li><code>Caesar._PCL.PointField</code></li><li><code>Caesar._PCL.FieldMapper</code></li></ul><p>The PointCloud types use <code>Colors.jl</code>:</p><pre><code class="language-julia hljs">using Colors, Caesar
using StaticArrays

# one point
x,y,z,intens = 1f0,0,0,1
pt = Caesar._PCL.PointXYZ(;data=SA[x,y,z,intens])

# etc.</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.PointCloud" href="#Caesar._PCL.PointCloud"><code>Caesar._PCL.PointCloud</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PointCloud{T&lt;:Caesar._PCL.PointT, P, R}</code></pre><p>Convert a PCLPointCloud2 binary data blob into a <code>Caesar._PCL.PointCloud{T}</code> object using  a <code>field_map::Caesar._PCL.MsgFieldMap</code>.</p><p>Use <code>PointCloud(::Caesar._PCL.PCLPointCloud2)</code> directly or create you own <code>MsgFieldMap</code>:</p><pre><code class="language-julia hljs">field_map = Caesar._PCL.createMapping(msg.fields, field_map)</code></pre><p>Notes</p><ul><li>Tested on Radar data with height <code>z=constant</code> for all points – i.e. 2D sweeping scan where <code>.height=1</code>.</li></ul><p>DevNotes</p><ul><li>TODO .PCLPointCloud2 convert not tested on regular 3D data from structured light or lidar yet, but current implementation should be close (or already working).</li></ul><p>References</p><ul><li>https://pointclouds.org/documentation/classpcl<em>1</em>1<em>point</em>cloud.html</li><li>(seems older) https://docs.ros.org/en/hydro/api/pcl/html/conversions<em>8h</em>source.html#l00123 </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/entities/PCLTypes.jl#L224-L247">source</a></section></article><h2 id="Conversion-with-ROS.PointCloud2"><a class="docs-heading-anchor" href="#Conversion-with-ROS.PointCloud2">Conversion with <code>ROS.PointCloud2</code></a><a id="Conversion-with-ROS.PointCloud2-1"></a><a class="docs-heading-anchor-permalink" href="#Conversion-with-ROS.PointCloud2" title="Permalink"></a></h2><p>Strong integration between PCL and <a href="http://www.ros.org">ROS</a> predominantly through the message types</p><ul><li><code>@rosimport std_msgs.msg: Header</code>, <code>@rosimport sensor_msgs.msg: PointField</code>, <code>@rosimport sensor_msgs.msg: PointCloud2</code>.</li></ul><p>These have been integrated through conversions to equivalent Julian types already listed above.  ROS conversions requires RobotOS.jl be loaded, see page on using <a href="../using_ros/#ros_direct">ROS Direct</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.PointXYZ" href="#Caesar._PCL.PointXYZ"><code>Caesar._PCL.PointXYZ</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PointXYZ{C&lt;:Colorant, T&lt;:Number} &lt;: Caesar._PCL.PointT</code></pre><p>Immutable PointXYZ with color information.  E.g. <code>PointXYZ{RGB}</code>, <code>PointXYZ{Gray}</code>, etc.</p><p>Aliases</p><ul><li><code>PointXYZRGB</code></li><li><code>PointXYZRGBA</code></li></ul><p>See </p><ul><li>https://pointclouds.org/documentation/structpcl<em>1</em>1<em>point</em>x<em>y</em>z.html</li><li>https://pointclouds.org/documentation/point__types<em>8hpp</em>source.html</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/entities/PCLTypes.jl#L100-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.Header" href="#Caesar._PCL.Header"><code>Caesar._PCL.Header</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Header</code></pre><p>Immutable Header.</p><p>See https://pointclouds.org/documentation/structpcl<em>1</em>1<em>p</em>c<em>l</em>header.html</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/entities/PCLTypes.jl#L119-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.PointField" href="#Caesar._PCL.PointField"><code>Caesar._PCL.PointField</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PointField</code></pre><p>How a point is stored in memory.</p><ul><li>https://pointclouds.org/documentation/structpcl<em>1</em>1<em>p</em>c<em>l</em>point_field.html</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/entities/PCLTypes.jl#L137-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.FieldMapper" href="#Caesar._PCL.FieldMapper"><code>Caesar._PCL.FieldMapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct FieldMapper{T&lt;:Caesar._PCL.PointT}</code></pre><p>Which field values to store and how to map them to values during serialization.</p><ul><li>https://docs.ros.org/en/hydro/api/pcl/html/conversions<em>8h</em>source.html#l00091</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/entities/PCLTypes.jl#L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.PCLPointCloud2" href="#Caesar._PCL.PCLPointCloud2"><code>Caesar._PCL.PCLPointCloud2</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PCLPointCloud2</code></pre><p>Immutable point cloud type. Immutable for performance, computations are more  frequent and intensive than anticipated frequency of constructing new clouds.</p><p>References:</p><ul><li>https://pointclouds.org/documentation/structpcl<em>1</em>1<em>p</em>c<em>l</em>point_cloud2.html</li><li>https://pointclouds.org/documentation/classpcl<em>1</em>1<em>point</em>cloud.html</li><li>https://pointclouds.org/documentation/common<em>2include</em>2pcl<em>2point__cloud</em>8h_source.html</li></ul><p>See also: <code>Caesar._PCL.toROSPointCloud2</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/entities/PCLTypes.jl#L185-L197">source</a></section></article><h2 id="Aligning-Point-Clouds"><a class="docs-heading-anchor" href="#Aligning-Point-Clouds">Aligning Point Clouds</a><a id="Aligning-Point-Clouds-1"></a><a class="docs-heading-anchor-permalink" href="#Aligning-Point-Clouds" title="Permalink"></a></h2><p>Caesar.jl is currently growing support for two related point cloud alignment methods, namely:</p><ul><li>Continuous density function alignment <a href="#Caesar.ScatterAlignPose2"><code>ScatterAlignPose2</code></a>, <a href="#Caesar.ScatterAlignPose3"><code>ScatterAlignPose3</code></a>,</li><li>Traditional Iterated Closest Point (with normals) <a href="@ref"><code>alignICP_Simple</code></a>.</li></ul><h3 id="sec_scatter_align"><a class="docs-heading-anchor" href="#sec_scatter_align"><code>ScatterAlign</code> for <code>Pose2</code> and <code>Pose3</code></a><a id="sec_scatter_align-1"></a><a class="docs-heading-anchor-permalink" href="#sec_scatter_align" title="Permalink"></a></h3><p>These factors use minimum mean distance embeddings to cost the alignment between pointclouds and supports various other interesting function alignment cases.  These functions require <code>Images.jl</code>, see page <a href="../using_images/#images_and_fiducials">Using Images</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar.ScatterAlign" href="#Caesar.ScatterAlign"><code>Caesar.ScatterAlign</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ScatterAlign{P,H1,H2} where  {H1 &lt;: Union{&lt;:ManifoldKernelDensity, &lt;:HeatmapGridDensity}, 
                              H2 &lt;: Union{&lt;:ManifoldKernelDensity, &lt;:HeatmapGridDensity}}</code></pre><p>Alignment factor between point cloud populations, using either</p><ul><li>a continuous density function cost: <a href="@ref"><code>ApproxManifoldProducts.mmd</code></a>, or</li><li>a conventional iterative closest point (ICP) algorithm (when <code>.sample_count &lt; 0</code>).</li></ul><p>This factor can support very large density clouds, with <code>sample_count</code> subsampling for individual alignments.</p><p><strong>Keyword Options:</strong></p><ul><li><code>sample_count::Int = 100</code>, number of subsamples to use during each alignment in <code>getSample</code>.  <ul><li>Values greater than 0 use MMD alignment, while values less than 0 use ICP alignment.</li></ul></li><li><code>bw::Real</code>, the bandwidth to use for <a href="@ref"><code>mmd</code></a> distance</li><li><code>rescale::Real</code></li><li><code>N::Int</code></li><li><code>cvt::Function</code>, convert function for image when using <code>HeatmapGridDensity</code>.</li><li><code>useStashing::Bool = false</code>, to switch serialization strategy to using <a href="../../concepts/stash_and_cache/#section_stash_unstash">Stashing</a>.</li><li><code>dataEntry_cloud1::AbstractString = &quot;&quot;</code>, blob identifier used with stashing.</li><li><code>dataEntry_cloud2::AbstractString = &quot;&quot;</code>, blob identifier used with stashing.</li><li><code>dataStoreHint::AbstractString = &quot;&quot;</code></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">arp2 = ScatterAlignPose2(img1, img2, 2) # e.g. 2 meters/pixel </code></pre><p><strong>Notes</strong></p><ul><li>Supports two belief &quot;clouds&quot; as either<ul><li><a href="@ref"><code>ManifoldKernelDensity</code></a>s, or</li><li><a href="@ref"><code>HeatmapGridDensity</code></a>s.</li></ul></li><li>Stanard <code>cvt</code> argument is lambda function to convert incoming images to user convention of image axes,<ul><li><strong>Geography map default</strong> <code>cvt</code> flips image rows so that Pose2 +xy-axes corresponds to img[-x,+y]<ul><li>i.e. rows down is &quot;North&quot; and columns across from top left corner is &quot;East&quot;.</li></ul></li></ul></li><li>Use rescale to resize the incoming images for lower resolution (faster) correlations</li><li>Both images passed to the construct must have the same type some matrix of type <code>T</code>.</li><li>Experimental support for Stashing based serialization.</li></ul><p><strong>DevNotes:</strong></p><ul><li>TODO Upgrade to use other information during alignment process, e.g. point normals for Pose3.</li></ul><p>See also: <a href="#Caesar.ScatterAlignPose2"><code>ScatterAlignPose2</code></a>, <a href="#Caesar.ScatterAlignPose3"><code>ScatterAlignPose3</code></a>, <a href="@ref"><code>overlayScanMatcher</code></a>, <a href="#Caesar._PCL.alignICP_Simple"><code>Caesar._PCL.alignICP_Simple</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/ext/factors/ScatterAlignPose.jl#L3-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar.ScatterAlignPose2" href="#Caesar.ScatterAlignPose2"><code>Caesar.ScatterAlignPose2</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ScatterAlignPose2(im1::Matrix, im2::Matrix, domain; options...)
ScatterAlignPose2(; mkd1::ManifoldKernelDensity, mkd2::ManifoldKernelDensity, moreoptions...)</code></pre><p>Specialization of <a href="#Caesar.ScatterAlign"><code>ScatterAlign</code></a> for <a href="../../concepts/available_varfacs/#RoME.Pose2"><code>Pose2</code></a>.</p><p>See also: <a href="#Caesar.ScatterAlignPose3"><code>ScatterAlignPose3</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/ext/factors/ScatterAlignPose.jl#L74-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar.ScatterAlignPose3" href="#Caesar.ScatterAlignPose3"><code>Caesar.ScatterAlignPose3</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ScatterAlignPose3(; cloud1=mkd1::ManifoldKernelDensity, 
                    cloud2=mkd2::ManifoldKernelDensity, 
                    moreoptions...)</code></pre><p>Specialization of <a href="#Caesar.ScatterAlign"><code>ScatterAlign</code></a> for <a href="../../concepts/available_varfacs/#RoME.Pose3"><code>Pose3</code></a>.</p><p>See also: <a href="#Caesar.ScatterAlignPose2"><code>ScatterAlignPose2</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/ext/factors/ScatterAlignPose.jl#L86-L94">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Future work may include <code>ScatterAlignPose2z</code>, please open issues at Caesar.jl if this is of interest.</p></div></div><h3 id="Iterative-Closest-Point"><a class="docs-heading-anchor" href="#Iterative-Closest-Point">Iterative Closest Point</a><a id="Iterative-Closest-Point-1"></a><a class="docs-heading-anchor-permalink" href="#Iterative-Closest-Point" title="Permalink"></a></h3><p>Ongoing work is integrating ICP into a factor similar to <code>ScatterAlign</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Caesar._PCL.alignICP_Simple" href="#Caesar._PCL.alignICP_Simple"><code>Caesar._PCL.alignICP_Simple</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">alignICP_Simple(
    X_fix,
    X_mov;
    correspondences,
    neighbors,
    min_planarity,
    max_overlap_distance,
    min_change,
    max_iterations,
    verbose,
    H
)
</code></pre><p>Align two point clouds using ICP (with normals).</p><p>Example:</p><pre><code class="language-julia hljs">using Downloads, DelimitedFiles
using Colors, Caesar

# get some test data (~50mb download)
lidar1_url = &quot;https://github.com/JuliaRobotics/CaesarTestData.jl/raw/main/data/lidar/simpleICP/terrestrial_lidar1.xyz&quot;
lidar2_url = &quot;https://github.com/JuliaRobotics/CaesarTestData.jl/raw/main/data/lidar/simpleICP/terrestrial_lidar2.xyz&quot;
io1 = PipeBuffer()
io2 = PipeBuffer()
Downloads.download(lidar1_url, io1)
Downloads.download(lidar2_url, io2)

X_fix = readdlm(io1)
X_mov = readdlm(io2)

H, HX_mov, stat = Caesar._PCL.alignICP_Simple(X_fix, X_mov; verbose=true)</code></pre><p>Notes</p><ul><li>Mostly consolidated with <code>Caesar._PCL</code> types.</li><li>Internally uses <code>Caesar._PCL._ICP_PointCloud</code> which was created to help facilite consolidation of code:<ul><li>Modified from www.github.com/pglira/simpleICP (July 2022).</li></ul></li><li>See here for a brief example on <a href="../../concepts/arena_visualizations/#viz_pointcloud_makie">Visualizing Point Clouds</a>.</li></ul><p>DevNotes</p><ul><li>TODO switch rigid transfrom to <code>Caesar._PCL.apply</code> along with performance considerations, instead of current <code>transform!</code>.</li></ul><p>See also: <a href="#Caesar._PCL.PointCloud"><code>PointCloud</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaRobotics/Caesar.jl/blob/v0.16.2/src/3rdParty/_PCL/services/ICP_Simple.jl#L203-L238">source</a></section></article><h2 id="Visualizing-Point-Clouds"><a class="docs-heading-anchor" href="#Visualizing-Point-Clouds">Visualizing Point Clouds</a><a id="Visualizing-Point-Clouds-1"></a><a class="docs-heading-anchor-permalink" href="#Visualizing-Point-Clouds" title="Permalink"></a></h2><p>See work in progress on alng with example code on the page <a href="../../concepts/arena_visualizations/#viz_pointcloud_makie">3D Visualization</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../using_images/">« Images and AprilTags</a><a class="docs-footer-nextpage" href="../../concepts/using_manifolds/">Using Manifolds.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Saturday 2 March 2024 06:11">Saturday 2 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
